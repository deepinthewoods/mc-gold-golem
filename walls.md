In wall mode we will have one or more modules which will be built touching each other along the players movement path. A golem will enter this mode if it is summoned with the gold block touching one or more solid blocks other than the one underneath it. When summoning the golem, we will look at the block the player is standing on, and we will ignore that block when defining the modules. We will also consider dirt/grass/path blocks to all be the same block for this purpose.Â 
Defining the modules:We will do a flood fill from the gold block, ignoring the ground blocks. This will be our "combined module". Within this combined module, the player will build modules of wall with "join sections" delineated by gold blocks. So the player might build a flat straight section of wall with a gold block at the base of each end, then corner section at one end of that with a gold block at the base of the far end, then a slipped wall section with a gold block at the far end of that. So each module will have a common 1-wide vertical section(slice) on each side, possibly rotated or at a different y level. So we'll search the combined module for gold blocks, then check for common 1-wide vertical sections so we can infer the orientation. The player is required to build all modules with a common joining section, if we scan the gold blocks and find any that don't have the same 1-wide vertical section on both ends we will not summon the golem and show an error message in the console. Note the carved pumpkin block will be inside the module, we won't add that to the module definitions, we will instead infer what block that should be from the other sections since they all have to be identical. We will also check the common section for symmetricality(odd or even) so we know whether we can mirror it or not when building.
Building with modules:Since each module has an identical 1-wide section at each end, we can fit them together by placing these to overlap the same position. Generally the player will create a straight flat wall, a corner and a straight wall with a change in y level. We'll place the modules similar to how we place the section of path in pathing mode, but instead of having a fixed section length, we'll look at the distance of the longest module and decide which module to place once the player has moved more than that distance+1 away from the previous point. We'll do this by checking each module's end position in each rotation/mirror state and choosing the one which ends up closest to the player. That's the basic logic but we should try matching the players y level first and prefer modules closer on the y level.The player might not define a corner module, in that case we should make an empty corner based on the thickness/width of the wall module.
Gradients:Each unique block in the combined module will have it's own gradient row. We will show an icon of the block to the left of the gradient row outside the main window. These icons will be draggable to other icon rows which will let us combine them, so the player can use the same gradient for multiple different blocks in the combined module if they want. The gold block will start off combined with the most common block in the combined module. We will also always have an empty space under the gradient rows which we can drag an icon into to create a new separate gradient. We should add a scroll pane type behaviour to just the gradient section if the number of rows is too many to fit on screen. In wall mode, the gradients will be calculated based on y distance from the bottom of the module, rather than distance from center like path mode. Blocks on the left of the gradient at the bottom of the module. Same sampling window methodology as pathing mode.

